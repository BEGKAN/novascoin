<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>NovaCoin Clicker</title>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º CSS -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Telegram WebApp -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <div class="logo">NovaCoin</div>
            <div class="username" id="usernameDisplay">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω (–ì–ª–∞–≤–Ω–∞—è) -->
        <div id="mainPanel" class="panel active-panel">
            <div class="balance-card">
                <div class="balance-label">–í–∞—à —Å—á—ë—Ç</div>
                <div class="balance-amount" id="balanceDisplay">0.000</div>
                <div class="stats-row">
                    <span id="secRate">+0.000 / —Å–µ–∫.</span>
                    <span id="clickRate">+0.001 / –∫–ª–∏–∫</span>
                </div>
            </div>
            
            <div class="action-row">
                <button class="action-btn" onclick="window.app.switchPanel('gamesPanel')">–ò–≥—Ä—ã</button>
                <button class="action-btn" onclick="window.app.switchPanel('shopPanel')">–ú–∞–≥–∞–∑–∏–Ω</button>
            </div>
            
            <div class="coin-container">
                <div class="click-coin" id="clickCoin">
                    <span class="coin-letter">N</span>
                </div>
            </div>
        </div>

        <!-- –ú–∞–≥–∞–∑–∏–Ω -->
        <div id="shopPanel" class="panel">
            <h2 class="panel-title">–ú–∞–≥–∞–∑–∏–Ω</h2>
            <div class="shop-categories">
                <button class="category-btn active" onclick="window.shop.showCategory('click')">–ó–∞ –∫–ª–∏–∫</button>
                <button class="category-btn" onclick="window.shop.showCategory('online')">–û–Ω–ª–∞–π–Ω</button>
                <button class="category-btn" onclick="window.shop.showCategory('offline')">–û—Ñ—Ñ–ª–∞–π–Ω</button>
            </div>
            <div id="shopList" class="shop-list">
                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å—é–¥–∞ -->
            </div>
        </div>

        <!-- –ò–≥—Ä—ã -->
        <div id="gamesPanel" class="panel">
            <h2 class="panel-title">–ò–≥—Ä—ã</h2>
            <div class="game-selector">
                <button class="game-type-btn active" onclick="window.games.showGame('circle')">–ö—Ä—É–≥–æ–≤–∞—è</button>
                <button class="game-type-btn" onclick="window.games.showGame('eagle')">–û—Ä—ë–ª/–†–µ—à–∫–∞</button>
            </div>
            
            <!-- –ö—Ä—É–≥–æ–≤–∞—è –ª–æ—Ç–µ—Ä–µ—è -->
            <div id="circleGame" class="game-container">
                <div class="lottery-circle-container">
                    <div class="lottery-circle" id="lotteryCircle">
                        <div class="timer-text" id="circleTimer">0</div>
                    </div>
                </div>
                <div class="game-stats">
                    <div class="stat">–ë–∞–Ω–∫: <span id="circlePool">0.000</span></div>
                    <div class="stat">–ò–≥—Ä–æ–∫–æ–≤: <span id="circlePlayers">0</span></div>
                </div>
                <div class="bet-panel">
                    <input type="number" id="circleBetAmount" class="bet-input" placeholder="–°—É–º–º–∞ —Å—Ç–∞–≤–∫–∏" value="1" min="0.001" step="0.001">
                    <button class="place-bet" onclick="window.games.placeCircleBet()">–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É</button>
                </div>
            </div>
            
            <!-- –û—Ä—ë–ª/–†–µ—à–∫–∞ -->
            <div id="eagleGame" class="game-container" style="display: none;">
                <div class="teams-container">
                    <div class="team-card" id="teamEagle" onclick="window.games.selectTeam('eagle')">
                        <div class="team-coin">N</div>
                        <div class="team-name">–û—Ä—ë–ª</div>
                        <div class="team-pool" id="eaglePool">0.000</div>
                    </div>
                    <div class="team-card" id="teamRevard" onclick="window.games.selectTeam('revard')">
                        <div class="team-coin">NC</div>
                        <div class="team-name">–†–µ—à–∫–∞</div>
                        <div class="team-pool" id="revardPool">0.000</div>
                    </div>
                </div>
                
                <div class="selected-team" id="selectedTeam">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É</div>
                
                <div class="bet-panel">
                    <input type="number" id="eagleBetAmount" class="bet-input" placeholder="–°—É–º–º–∞ —Å—Ç–∞–≤–∫–∏" value="10" min="0.001" step="0.001">
                    <button class="place-bet" onclick="window.games.placeEagleBet()">–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É</button>
                </div>
                
                <div class="game-stats">
                    <div class="stat">–¢–∞–π–º–µ—Ä: <span id="eagleTimer">0</span> —Å–µ–∫</div>
                    <div class="stat">–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤: <span id="eaglePlayers">0</span></div>
                </div>
            </div>
        </div>

        <!-- –†–µ–π—Ç–∏–Ω–≥ -->
        <div id="ratingPanel" class="panel">
            <h2 class="panel-title">–†–µ–π—Ç–∏–Ω–≥ –∏–≥—Ä–æ–∫–æ–≤</h2>
            <div id="ratingList" class="rating-list">
                <!-- –†–µ–π—Ç–∏–Ω–≥ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å—é–¥–∞ -->
            </div>
        </div>

        <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
        <div id="profilePanel" class="panel">
            <div class="profile-header">
                <div class="profile-avatar" id="avatar">üë§</div>
                <div class="profile-name" id="profileName">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-box">
                    <div class="stat-label">–ó–∞ –¥–µ–Ω—å</div>
                    <div class="stat-value" id="dayEarn">0.000</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">–ó–∞ –≤—Å—ë</div>
                    <div class="stat-value" id="totalEarn">0.000</div>
                </div>
            </div>
            
            <div class="settings-section">
                <div class="setting-item">
                    <label>–¶–≤–µ—Ç –Ω–∏–∫–∞:</label>
                    <input type="range" min="0" max="360" value="260" id="colorSlider" oninput="window.profile.updateNameColor()">
                </div>
                
                <button class="profile-btn" onclick="window.profile.changeNickname()">–°–º–µ–Ω–∏—Ç—å –Ω–∏–∫</button>
                <button class="profile-btn promo-btn" onclick="window.profile.togglePromo()">–ü—Ä–æ–º–æ–∫–æ–¥—ã</button>
                
                <div id="promoSection" class="promo-section" style="display: none;">
                    <div class="promo-tabs">
                        <button class="promo-tab active" onclick="window.profile.showPromo('activate')">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="promo-tab" onclick="window.profile.showPromo('create')">–°–æ–∑–¥–∞—Ç—å</button>
                    </div>
                    
                    <div id="promoActivate">
                        <input type="text" id="promoCode" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥">
                        <button class="profile-btn" onclick="window.profile.activatePromo()">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                    
                    <div id="promoCreate" style="display: none;">
                        <input type="text" id="newPromoName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞">
                        <input type="number" id="promoSum" placeholder="–°—É–º–º–∞" step="0.001">
                        <input type="number" id="promoUses" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–π">
                        <button class="profile-btn" onclick="window.profile.createPromo()">–°–æ–∑–¥–∞—Ç—å</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="bottom-nav">
            <button class="nav-item active" onclick="window.app.switchPanel('mainPanel')">
                <div class="nav-icon icon-home"></div>
                <span class="nav-label">–ì–ª–∞–≤–Ω–∞—è</span>
            </button>
            <button class="nav-item" onclick="window.app.switchPanel('shopPanel')">
                <div class="nav-icon icon-shop"></div>
                <span class="nav-label">–ú–∞–≥–∞–∑–∏–Ω</span>
            </button>
            <button class="nav-item" onclick="window.app.switchPanel('gamesPanel')">
                <div class="nav-icon icon-games"></div>
                <span class="nav-label">–ò–≥—Ä—ã</span>
            </button>
            <button class="nav-item" onclick="window.app.switchPanel('ratingPanel')">
                <div class="nav-icon icon-rating"></div>
                <span class="nav-label">–†–µ–π—Ç–∏–Ω–≥</span>
            </button>
            <button class="nav-item" onclick="window.app.switchPanel('profilePanel')">
                <div class="nav-icon icon-profile"></div>
                <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
            </button>
        </nav>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notification" class="notification"></div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º JavaScript –º–æ–¥—É–ª–∏ -->
    <script src="js/supabase.js"></script>
    <script src="js/app.js"></script>
    <script src="js/shop.js"></script>
    <script src="js/games.js"></script>
    <script src="js/profile.js"></script>
</body>
</html>
